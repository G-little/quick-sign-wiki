#  后台管理接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

后台管理员相关接口

## 产品说明



## 关键流程说明

## 接口说明


#### 1.0 用户登录

##### 接口说明

管理中心用户列表

##### 请求说明

| http 请求方式          | post     |
|:------------- |:---------------:|
| url      | /admin/auth/login |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| username      | 是|  string  |  用户名  |   |
| password      | 是|  string  |  密码  |   |


#####  测试账号

用户名: 15201008961
密码: 123456

#####  会话

登录成功登录token会以response header  x-auth-token 值返回

web端请求时将x-auth-token 值以 通过header Authorization 请求带给服务器


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        "adminInfo": {
            "nickName": "xiaogang", //用户名
            "avatar": null //头像
        }
    }
}
```



#### 1.1 工作台

##### 接口说明

先跳过

##### 请求说明

无

#####  输入参数


无

#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
       
    }
}
```



#### 1.1 用户信息

##### 接口说明

先跳过

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/user/list |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| realName      | 否|  string  |  用户名  |   |
| idcardNum      | 否|  string  |  身份证 |   |
| mobile      | 否|  string  |  手机号 |   |
| page      | 否|  int  |  页码 |   |
| limit      | 否|  int  |  单页条数 |   |


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```



#### 1.2 用户详情

##### 接口说明

先跳过

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/user/detail |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  用户id  |   |


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```



#### 1.3 用户详情

##### 接口说明

先跳过

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/user/detail |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  用户id  |   |


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```


#### 1.4 订单管理

##### 接口说明

先跳过

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/contract_record/list |

#####  输入参数


| realName      | 否|  string  |  用户名  |   |
| type      | 否|  类型  |   int | 1 充值 2 消耗   |
| mobile      | 否|  string  |  手机号 |   |
| page      | 否|  int  |  页码 |   |
| limit      | 否|  int  |  单页条数 |   |


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```





#### 1.5 合同列表

##### 接口说明



##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/contract/list |

#####  输入参数


| realName      | 否|  string  |  用户名  |   |
| type      | 否|  类型  |   int | 不传所有 1 甲方 2 乙方  |
| idcardNum      | 否|  string  |  身份证 |   |
| mobile      | 否|  string  |  手机号 |   |
| page      | 否|  int  |  页码 |   |
| limit      | 否|  int  |  单页条数 |   |


#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```


#### 1.6 合同详情

##### 接口说明



##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/contract/detail |

#####  输入参数


| id      | shi|  int  |  合同ID  |   |



#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
        
    }
}
```



#### 1.8 合同下载

##### 接口说明



##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/contract/download |

#####  输入参数


| id      | shi|  int  |  合同ID  |   |



#####  错误说明




#####  返回实例
```json
    {
    "c": 0,
    "m": null,
    "d": {
         "url":"http://www.baidu.com"
    }
}
```

















